[nightly-meta-intel]
builders: 'example-worker'
repos: [{'poky':
            {'repourl':'git://git.yoctoproject.org/poky',
             'layerversion':{'core':'meta', 'yoctobsp':'meta-yocto-bsp'},
             'branch':'master'}},
        {'meta-qt3':
            {'repourl':'git://git.yoctoproject.org/meta-qt3',
             'branch':'master'}},
        {'meta-intel':
            {'repourl':'git://git.yoctoproject.org/meta-intel',
             'layerversion':{'intel':'meta-intel'},
             'branch':'master'}}]
props: [{'release_me':{'prop_type':'ChoiceStringParameter',
                       'choices': ['False', 'True'],
                       'name': 'release_me',
                       'label':'<h3> Generate a release?:</h3>'}},
        {'poky_name':{'prop_type':'ChoiceStringParameter',
                       'choices': ['', 'jethro', 'fido','dizzy','daisy','dora','dylan','danny','denzil','edison','bernard'],
                       'name': 'poky_name',
                       'label':'<h3> Name of the poky release.<br>For further info on release names see <a href="https://wiki.yoctoproject.org/wiki/Releases"> Releases </a> </h3>'}},
        {'is_milestone':{'prop_type':'ChoiceStringParameter',
                       'choices': ['False', 'True'],
                       'name': 'is_milestone',
                       'label':'<h3> If this a milestone release? If so the poky number and poky name will be appended with a "+snapshot"</h3>'}},
        {'poky_number':{'prop_type':'StringParameter',
                       'size': 10,
                       'name': 'poky_number',
                       'label':'<h3> Poky Release Number (10.0.0, 11.0.1 etc.):</h3>'}},
        {'yocto_number':{'prop_type':'StringParameter',
                       'size': 10,
                       'name': 'yocto_number',
                       'label':'<h3> Yocto Project Release Number (1.5, 1.6 etc.):</h3>'}},
        {'milestone_number':{'prop_type':'ChoiceStringParameter',
                       'choices': ['', 'M1', 'M2', 'M3', 'M4'],
                       'name': 'milestone_number',
                       'label':'<h3> Milestone number: </h3>'}},
        {'rc_number':{'prop_type':'ChoiceStringParameter',
                       'choices': ['', 'rc1', 'rc2', 'rc3', 'rc4', 'rc5', 'rc6', 'rc7', 'rc8', 'rc9'],
                       'name': 'rc_number',
                       'label':'<h3> Release candidate number: </h3>'}},
        {'send_email':{'prop_type':'ChoiceStringParameter',
                       'choices': ['False', 'True'],
                       'name': 'send_email',
                       'label':'<h3> Send QA alert emails?:</h3>'}},
        {'deploy_artifacts':{'prop_type':'ChoiceStringParameter',
                       'choices': ['True', 'False'],
                       'name': 'deploy_artifacts',
                       'label':'<hr><h3> Do we want to deploy artifacts? </br>This speeds up autobuilder time and saves space on the cluster:</h3>'}},
        {'prefered_kernel':{'prop_type':'StringParameter',
                       'size': 15,
                       'name': 'prefered_kernel',
                       'default': 'linux-yocto',
                       'label':'<hr><h3> PREFERRED_PROVIDER_virtual/kernel (default is "linux-yocto"):</h3>'}},
        {'kmeta':{'prop_type':'StringParameter',
                       'size': 15,
                       'name': 'kmeta',
                       'default': '',
                       'label':'<hr><h3> branch for KMETA_${MACHINE} (default is blank):</h3>'}},
        {'srcrev_meta':{'prop_type':'StringParameter',
                       'size': 15,
                       'name': 'srcrev_meta',
                       'default': '${AUTOREV}',
                       'label':'<hr><h3> SRCREV for KMETA_${MACHINE} (default is ${AUTOREV}):<br></h3>'}},
        {'srcuri_meta':{'prop_type':'StringParameter',
                       'size': 50,
                       'name': 'srcuri_meta',
                       'default': '',
                       'label':'<hr><h3> SRC_URI_pn-linux-yocto KMETA append. (default is blank).<br> This should be constructed as *just* the git uri portion of the string. <br>(git://git.yoctoproject.org/linux-yocto-3.19.git</h3>'}},
        {'kbranch':{'prop_type':'StringParameter',
                       'size': 15,
                       'name': 'kbranch',
                       'default': '',
                       'label':'<hr><h3> branch for KBRANCH_${MACHINE} (default is blank):</h3>'}},
        {'srcrev_machine':{'prop_type':'StringParameter',
                       'size': 15,
                       'name': 'srcrev_machine',
                       'default': '${AUTOREV}',
                       'label':'<hr><h3> SRCREV for KBRANCH. (default is ${AUTOREV}):<br></h3>'}},
        {'srcuri_machine':{'prop_type':'StringParameter',
                       'size': 50,
                       'name': 'srcuri_machine',
                       'default': '',
                       'label':'<hr><h3> SRC_URI_pn-linux-yocto KBRANCH append. (default is blank).<br> This should be constructed as *just* the git uri portion of the string. <br>(git://git.yoctoproject.org/linux-yocto-3.19.git</h3>'}}]

steps: [{'SetDest':{}},
        {'CheckOutLayers': {}},
        {'RunPreamble': {}},
        {'TriggerBuilds': {'schedulerName': 'main-build', 'waitForFinish': 'True', 
                           'schedulerNames': {'intel-core2-32':{}, 'intel-core2-32-lsb':{}, 
                             'intel-core2-32-lsb-rt':{}, 'intel-core2-32-rt':{},
                             'intel-corei7-64':{}, 'intel-corei7-64-lsb':{},
                             'intel-corei7-64-lsb-rt':{}, 'intel-corei7-64-rt':{}, 
                             'intel-quark':{},
                             'jasperforest':{}, 'jasperforest-lsb':{},
                             'sugarbay':{}, 'sugarbay-lsb':{},
                             'nuc':{}, 'nuc-lsb':{}}, 'schedulerNames_nowait' : {'nightly-meta-intel-world':{}}}},
        {'CreateIntelBSPPackage': {'machine': 'intel-core2-32'}},
        {'CreateIntelBSPPackage': {'machine': 'intel-corei7-64'}},
        {'CreateIntelBSPPackage': {'machine': 'intel-quark'}}, 
        {'CreateIntelBSPPackage': {'machine': 'crownbay'}},
        {'CreateIntelBSPPackage': {'machine': 'crownbay-noemgd'}},
        {'CreateIntelBSPPackage': {'machine': 'emenlow'}},
        {'CreateIntelBSPPackage': {'machine': 'emenlow-noemgd'}},
        {'CreateIntelBSPPackage': {'machine': 'fri2'}},
        {'CreateIntelBSPPackage': {'machine': 'fri2-noemgd'}},
        {'CreateIntelBSPPackage': {'machine': 'jasperforest'}},
        {'CreateIntelBSPPackage': {'machine': 'romley'}},
        {'CreateIntelBSPPackage': {'machine': 'sugarbay'}},
        {'CreateIntelBSPPackage': {'machine': 'nuc'}},
        {'SendQAEmail': {}},
        {'CreateCurrentLink' : {}}]
