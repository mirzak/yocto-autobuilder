[iot-devkit]
builders: 'example-worker'
repos: [{'poky':
            {'repourl':'git://git.yoctoproject.org/poky',
             'layerversion':{'core':'meta', 'yocto':'meta-yocto', 'yoctobsp':'meta-yocto-bsp'},
             'branch':'dizzy'}},
        {'meta-intel-iot-devkit':
            {'repourl':'git://git.yoctoproject.org/meta-intel-iot-devkit',
             'branch':'master'}},
        {'meta-intel-iot-middleware':
            {'repourl':'git://git.yoctoproject.org/meta-intel-iot-middleware',
             'branch':'dizzy'}},
        {'meta-intel-quark':
            {'repourl':'git://git.yoctoproject.org/meta-intel-quark',
             'branch':'dizzy'}},
        {'meta-intel-galileo':
            {'repourl':'git://git.yoctoproject.org/meta-intel-galileo',
             'branch':'dizzy'}},
        {'meta-openembedded':
            {'repourl':'git://git.openembedded.org/meta-openembedded',
             'branch':'dizzy'}}]
steps: [{'SetDest':{}},
        {'CheckOutLayers': {}},
        {'RunPreamble': {}},
        {'GetDistroVersion' : {'distro': 'poky'}},
        {'CreateAutoConf': {'machine': 'quark', 'SDKMACHINE' : 'x86_64', 'distro': 'iot-devkit-multilibc'}},
        {'CreateBBLayersConf': {'buildprovider' : 'yocto', 'layerdirs': ['meta-yocto', 'meta-intel-iot-devkit', 
          'meta-intel-iot-middleware', 'meta-intel-quark', 'meta-intel-galileo', 'meta-openembedded/meta-oe',
          'meta-openembedded/meta-filesystems']}},
        {'BuildImages': {'images': 'iot-devkit-image iot-devkit-prof-image iot-devkit-prof-dev-image'}},
        {'PublishLayerTarballs':{}},
        {'SendErrorReport': {}},
        {'PublishArtifacts': {'artifacts': ['quark', 'ipk', 'md5sums']}}]
